{% extends 'base.html' %}

{% load wagtailcore_tags %}
{% load filters %}
{% comment %} {% load custom_icons %} {% endcomment %}

{% load static %}

{% block body_class %}
  template-standard_page
{% endblock %}

{% block content %}
<div class="grid-container padding-bottom-2 padding-top-2">
  <h1 data-testid="page-title">{{ page.title }}</h1>
  <hr />

  {% if page.navigation_ribbon %}
    <div class="blue-page-links-bar">
        {% for link in page.navigation_ribbon.links.all %}
            <a href="{{ link.url }}"><i class="{{ link.icon }}"></i><div>{{ link.title }}</div></a>
        {% endfor %}
    </div>
  {% endif %}

  {% for block in page.body %}
    {% if block.block_type == 'heading' %}
        <h2>{{ block.value }}</h2>
    {% elif block.block_type == 'h3' %}
        <h3>{{ block.value }}</h3>
    {% elif block.block_type == 'h4' %}
        <h4>{{ block.value }}</h4>
    {% elif block.block_type == 'paragraph' %}
        <p data-testid="page-body-paragraph">{{ block.value }}</p>
    {% elif block.block_type == 'image' %}
        <img src="{{ block.value.url }}" alt="{{ block.value.alt }}">
    {% elif block.block_type == 'hr' %}
        <hr />
    {% elif block.block_type == 'links' %}
        <ul class="links {{ block.value.class }}">
            {% for link in block.value.links %}
                {% if link.document %}
                    <li><a href="{{ link.document.url }}" data-testid="document-link"><i class="{{ link.icon }}"></i> {{ link.title }}</a></li>
                {% else %}
                    <li>
                        {% if link.url %}
                            <a href="{{ link.url }}"><i class="{{ link.icon }}"></i> {{ link.title }}</a>
                        {% endif %}
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    {% elif block.block_type == 'questionanswers' %}
      {% with page_url=page.url|strip_trailing_slash %}
        <ul class="links indented">
        {% for q in block.value %}
            <li> <a href="{{ page_url}}#{{ q.anchortag }}"> <i class="ti ti-info-circle-filled" style="padding-right: .4em" ></i> {{ q.question }}</a> </li>
        {% endfor %}
        </ul>
        <hr />
        {% for q in block.value %}
            <div style="display: flex; align-items: center;">
                <a href="{{ page_url}}#{{ q.anchortag }}"><div style="margin-left: -1.5em; margin-top: 1em; font-size: larger;" class="ti ti-bookmark" id="{{ q.anchortag }}"></div></a>
                <h3>{{ q.question }}</h3>
            </div>
            <div>{{ q.answer|richtext }}</div>
            <hr />
        {% endfor %}
      {% endwith %}
        {% elif block.block_type == 'zoomgovquestionanswers' %}
        {% with page_url=page.url|strip_trailing_slash %}
        <ul class="links indented">
            {% for q in block.value %}
            <li><a href="{{ page_url}}#{{ q.anchortag }}"> <i class="ti ti-info-circle-filled"
                                                              style="padding-right: .4em"></i> {{ q.question }}</a></li>
            {% endfor %}
        </ul>
        <hr/>
        {% for q in block.value %}
        <div style="display: flex; align-items: center;">
            <a href="{{ page_url}}#{{ q.anchortag }}">
                <div style="margin-left: -1.5em; margin-top: 1em; font-size: larger;" class="ti ti-bookmark"
                     id="{{ q.anchortag }}"></div>
            </a>
            <h3>{{ q.question }}</h3>
        </div>
        <div>{{ q.answer|richtext }}</div>
        <hr/>
        {% endfor %}
        {% endwith %}
    {% endif %}
  {% endfor %}
</div>

{% endblock content %}
