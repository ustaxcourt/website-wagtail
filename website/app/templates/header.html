{% load static wagtailcore_tags %}
{% load wagtailcore_tags navigation_tags %}

<header class="blue-banner">

  <div class="grid-container padding-1">
    <div class="usa-header__inner display-flex flex-justify flex-align-center">
      <a href="/">
        <img class="tablet:display-none logo-seal" src="{% static 'images/header/logo_seal.png' %}"
          alt="US Tax Court Logo" />
        <img class="display-none tablet:display-block" src="{% static 'images/header/logo.png' %}"
          alt="US Tax Court Logo" />
      </a>

      <a href="https://dawson.ustaxcourt.gov/"><img class="dawson" src="{% static 'images/header/dawson.png' %}"
          alt="Dawson Logo" /></a>
    </div>
  </div>
</header>

{% get_site_root as site_root %}
<div class="navigation-bar">
  <ul class="navigation">
    <img class="nav-hamburger" src="{% static 'images/header/hamburger.svg' %}" onclick="toggleHeaders()" />
    <li class="navigation-header"><a href="#" onclick="toggleMenuItems(this)">ABOUT THE COURT</a>
      <ul class="navigation-list">
        {% for menuitem in site_root.get_children.live.in_menu %}
        {% if menuitem.specific.navigation_category == "ABOUT" %}
        <li class="nav-link">
          <a href="{% pageurl menuitem %}"><img class="nav-item-icon"
              src="{% static 'images/header/chevron-right.svg' %}" />
            {{ menuitem.specific.menu_item_name }}</a>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </li>
    <li class="navigation-header"><a href="#">RULES & GUIDANCE</a>
      <ul class="navigation-list">
        {% for menuitem in site_root.get_children.live.in_menu %}
        {% if menuitem.specific.navigation_category == "RULES" %}
        <li class="nav-link">
          <a href="{% pageurl menuitem %}"><img class="nav-item-icon"
              src="{% static 'images/header/chevron-right.svg' %}" />
            {{ menuitem.specific.menu_item_name }}</a>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </li>
    <li class="navigation-header"><a href="#">ORDERS & OPINIONS</a>
      <ul class="navigation-list">
        {% for menuitem in site_root.get_children.live.in_menu %}
        {% if menuitem.specific.navigation_category == "ORDERS" %}
        <li class="nav-link">
          <a href="{% pageurl menuitem %}"><img class="nav-item-icon"
              src="{% static 'images/header/chevron-right.svg' %}" />
            {{ menuitem.specific.menu_item_name }}</a>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </li>
    <li class="navigation-header"><a href="#">eFILING & CASE MAINTENANCE</a>
      <ul class="navigation-list">
        {% for menuitem in site_root.get_children.live.in_menu %}
        {% if menuitem.specific.navigation_category == "eFILING" %}
        <li class="nav-link">
          <a href="{% pageurl menuitem %}"><img class="nav-item-icon"
              src="{% static 'images/header/chevron-right.svg' %}" />
            {{ menuitem.specific.menu_item_name }}</a>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </li>
  </ul>
</div>

{% block extra_js %}
<script>
  function toggleHeaders(){
    const elements = document.getElementsByClassName("navigation-header");
    for(element of elements){
      if(element.classList.contains("displayed-navigation-header")){
        element.classList.remove("displayed-navigation-header");
      } else {
        element.classList.add("displayed-navigation-header");
      }
    }
  }
  function toggleMenuItems(element){
    const elements = element.parentElement.getElementsByClassName("navigation-list");
    for(element of elements){
      if(element.classList.contains("displayed-navigation-list")){
        element.classList.remove("displayed-navigation-list");
      } else {
        element.classList.add("displayed-navigation-list");
      }
    }
  }
</script>
{% endblock %}